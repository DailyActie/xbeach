<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.9.1">
  <compounddef id="libxbeach_8_f90" kind="file" language="Fortran">
    <compoundname>libxbeach.F90</compoundname>
    <innernamespace refid="namespacelibxbeach__module">libxbeach_module</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacelibxbeach__module" refkind="compound"><highlight class="keyword">module</highlight><highlight class="normal"><sp/><ref refid="namespacelibxbeach__module" kindref="compound">libxbeach_module</ref></highlight></codeline>
<codeline lineno="2"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespaceloopcounters__module" kindref="compound">loopcounters_module</ref></highlight></codeline>
<codeline lineno="3"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal">iso_c_binding</highlight></codeline>
<codeline lineno="4"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacemnemiso__module" kindref="compound">mnemiso_module</ref></highlight></codeline>
<codeline lineno="5"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacemnemmodule" kindref="compound">mnemmodule</ref></highlight></codeline>
<codeline lineno="6"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacegetkey__module" kindref="compound">getkey_module</ref></highlight></codeline>
<codeline lineno="7"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespaceparams" kindref="compound">params</ref></highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacespaceparams" kindref="compound">spaceparams</ref></highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacexmpi__module" kindref="compound">xmpi_module</ref></highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespaceinitialize__module" kindref="compound">initialize_module</ref></highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespaceboundaryconditions" kindref="compound">boundaryconditions</ref></highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacedrifter__module" kindref="compound">drifter_module</ref></highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespaceflow__timestep__module" kindref="compound">flow_timestep_module</ref></highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacemorphevolution" kindref="compound">morphevolution</ref></highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacereadtide__module" kindref="compound">readtide_module</ref></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacereadwind__module" kindref="compound">readwind_module</ref></highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacewave__timestep__module" kindref="compound">wave_timestep_module</ref></highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacetimestep__module" kindref="compound">timestep_module</ref></highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacereadkey__module" kindref="compound">readkey_module</ref></highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacebeachwizard__module" kindref="compound">beachwizard_module</ref></highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacegroundwaterflow" kindref="compound">groundwaterflow</ref></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacelogging__module" kindref="compound">logging_module</ref></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacemeans__module" kindref="compound">means_module</ref></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespaceoutput__module" kindref="compound">output_module</ref></highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespaceship__module" kindref="compound">ship_module</ref></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacenonh__module" kindref="compound">nonh_module</ref></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacevegetation__module" kindref="compound">vegetation_module</ref></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">use<sp/></highlight><highlight class="normal"><ref refid="namespacewetcells__module" kindref="compound">wetcells_module</ref></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">implicit<sp/>none</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">save</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32" refid="namespacelibxbeach__module_1ac360bb577f5a0f3dbdc0d0fa49b2885f" refkind="member"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">type</highlight><highlight class="normal">(<ref refid="structparams_1_1parameters" kindref="compound">parameters</ref>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/>par</highlight></codeline>
<codeline lineno="33" refid="namespacelibxbeach__module_1adcb61ae66ea56ea65e46208b3b1fbcb6" refkind="member"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">type</highlight><highlight class="normal">(<ref refid="structtimestep__module_1_1timepars" kindref="compound">timepars</ref>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/><ref refid="namespacelibxbeach__module_1adcb61ae66ea56ea65e46208b3b1fbcb6" kindref="member">tpar</ref></highlight></codeline>
<codeline lineno="34" refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" refkind="member"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">type</highlight><highlight class="normal">(<ref refid="structspaceparamsdef_1_1spacepars" kindref="compound">spacepars</ref>),<sp/></highlight><highlight class="keywordtype">pointer</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/><ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref></highlight></codeline>
<codeline lineno="35" refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" refkind="member"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">type</highlight><highlight class="normal">(<ref refid="structspaceparamsdef_1_1spacepars" kindref="compound">spacepars</ref>),<sp/></highlight><highlight class="keywordtype">target</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/><ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref></highlight></codeline>
<codeline lineno="36" refid="namespacelibxbeach__module_1adab3596abc2d0de566bd34d8c8c5f408" refkind="member"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">type</highlight><highlight class="normal">(<ref refid="structship__module_1_1ship" kindref="compound">ship</ref>),<sp/></highlight><highlight class="keywordtype">dimension(:)</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">pointer</highlight><highlight class="normal"><sp/><sp/><sp/><sp/>::<sp/><ref refid="namespacelibxbeach__module_1adab3596abc2d0de566bd34d8c8c5f408" kindref="member">sh</ref></highlight></codeline>
<codeline lineno="37" refid="namespacelibxbeach__module_1ab012a5ef9ac655093fe4687d67cc3857" refkind="member"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">type</highlight><highlight class="normal">(<ref refid="structvegetation__module_1_1veggie" kindref="compound">veggie</ref>),<sp/></highlight><highlight class="keywordtype">dimension(:)</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">pointer</highlight><highlight class="normal"><sp/><sp/>::<sp/><ref refid="namespacelibxbeach__module_1ab012a5ef9ac655093fe4687d67cc3857" kindref="member">veg</ref></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="namespacelibxbeach__module_1a3e4b3169e15a10bad1d92b777680599f" refkind="member"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">integer</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/><ref refid="namespacelibxbeach__module_1a3e4b3169e15a10bad1d92b777680599f" kindref="member">n</ref>,<ref refid="namespacelibxbeach__module_1a413e267a67115d63dbd0d456487a5ecd" kindref="member">it</ref>,<ref refid="namespacelibxbeach__module_1a21c9679e56426898fa41bd7b4c734fd8" kindref="member">error</ref></highlight></codeline>
<codeline lineno="40" refid="namespacelibxbeach__module_1a8a5e2ed4e36f2566017fab7321ce4f08" refkind="member"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">real*8</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/><ref refid="namespacelibxbeach__module_1a8a5e2ed4e36f2566017fab7321ce4f08" kindref="member">tbegin</ref></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>USEMPI</highlight></codeline>
<codeline lineno="43"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">type</highlight><highlight class="normal">(<ref refid="structspaceparamsdef_1_1spacepars" kindref="compound">spacepars</ref>),<sp/></highlight><highlight class="keywordtype">target</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/>slocal</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">real*8</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/>t0,t01</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">logical</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/>toall<sp/>=<sp/>.true.</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">logical</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/>end_program</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">integer</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/>nxbak,<sp/>nybak</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="49"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">!startinit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">!-----------------------------------------------------------------------------!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>Initialize<sp/>program<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">!-----------------------------------------------------------------------------!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="keyword">contains</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/><sp/>integer(c_int)<sp/></highlight><highlight class="keyword">function<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module_1a6be3278b63e39d796c22bef0227fd2c4" kindref="member">init</ref>()</highlight></codeline>
<codeline lineno="60" refid="namespacelibxbeach__module_1a6be3278b63e39d796c22bef0227fd2c4" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>USEMPI</highlight></codeline>
<codeline lineno="61"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">integer</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">dimension(12)</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/>info</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">character(256)</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/>line</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">integer</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::<sp/>rank,i</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="65"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a21c9679e56426898fa41bd7b4c734fd8" kindref="member">error</ref><sp/><sp/><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a3e4b3169e15a10bad1d92b777680599f" kindref="member">n</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>setup<sp/>of<sp/>MPI</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>USEMPI</highlight></codeline>
<codeline lineno="71"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>=&gt;slocal</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">xmpi_initialize</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">xmpi_barrier(toall)</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>t0<sp/>=<sp/>mpi_wtime()</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="76"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>create<sp/>log<sp/>files</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacelogging__module_1aac221c31d7fd7b868b9c7f3269205f69" kindref="member">start_logfiles</ref>(<ref refid="namespacelibxbeach__module_1a21c9679e56426898fa41bd7b4c734fd8" kindref="member">error</ref>)</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>set<sp/>starting<sp/>time<sp/>and<sp/>date</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">cpu_time(<ref refid="namespacelibxbeach__module_1a8a5e2ed4e36f2566017fab7321ce4f08" kindref="member">tbegin</ref>)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>show<sp/>statup<sp/>message</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacelogging__module_1a88c86a76d04d455719924c4632d8d26f" kindref="member">writelog_startup</ref>()</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!-----------------------------------------------------------------------------!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>Initialize<sp/>simulation<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!-----------------------------------------------------------------------------!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>initialize<sp/>time<sp/>counter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a413e267a67115d63dbd0d456487a5ecd" kindref="member">it</ref><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>read<sp/>input<sp/>from<sp/>params.txt</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceparams_1abf978d095c02ef19d6cd274f3152bc3d" kindref="member">params_inio</ref><sp/>=<sp/>.false.</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceparams_1af586ee38b10643bfd7ac942db04741ee" kindref="member">all_input</ref>(par)</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>allocate<sp/>space<sp/>scalars</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacespaceparams_1a587ab11ac9b178cc5f6a0de4273fd14b" kindref="member">space_alloc_scalars</ref>(<ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref>)</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref><sp/>=&gt;<sp/><ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>read<sp/>grid<sp/>and<sp/>bathymetry</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceinitialize__module_1a136e355c2d0d9b15d752b23d76b3b2de" kindref="member">grid_bathy</ref>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>distribute<sp/>grid<sp/>over<sp/>processors</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>USEMPI</highlight></codeline>
<codeline lineno="106"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">xmpi_determine_processor_grid(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>%nx,<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>%ny,par%mpiboundary,par%mmpi,par%nmpi,par%cyclic,<ref refid="namespacelibxbeach__module_1a21c9679e56426898fa41bd7b4c734fd8" kindref="member">error</ref>)</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0</highlight></codeline>
<codeline lineno="108"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>print<sp/>information<sp/>about<sp/>the<sp/>neighbours<sp/>of<sp/>the<sp/>processes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info(1)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="namespacexmpi__module_1a86a870804b48c6deb6e5f0e7ce525ff2" kindref="member">xmpi_orank</ref></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info(2)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="namespacexmpi__module_1ac778e42cacd126f42e143ef2f41e50f7" kindref="member">xmpi_rank</ref></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info(3)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="namespacexmpi__module_1a5bd1abfcbebbeccf3c6117f091c600a3" kindref="member">xmpi_prow</ref></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info(4)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="namespacexmpi__module_1abe5fea7b8616176e86be49de10a44930" kindref="member">xmpi_pcol</ref></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info(5)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>xmpi_left</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info(6)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>xmpi_right</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info(7)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>xmpi_top</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info(8)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>xmpi_bot</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="namespacexmpi__module_1a4b31181bc5bc2f1ad392c89d10b8156f" kindref="member">xmpi_isleft</ref>)<sp/><sp/>info(9)<sp/><sp/>=<sp/>1</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="namespacexmpi__module_1a4cab1e00b04041deb9aa9ef1b14d5d0d" kindref="member">xmpi_isright</ref>)<sp/>info(10)<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="namespacexmpi__module_1ac3d9414ca1095147ffb44c77aed98f09" kindref="member">xmpi_istop</ref>)<sp/><sp/><sp/>info(11)<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="namespacexmpi__module_1a281654b5481d47b466e10e7f857fcf24" kindref="member">xmpi_isbot</ref>)<sp/><sp/><sp/>info(12)<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>i=5,8</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(info(i)<sp/>.eq.<sp/>mpi_proc_null)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info(i)<sp/>=<sp/>-99</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/>enddo</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">writelog(</highlight><highlight class="stringliteral">&quot;ls&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;<sp/>ranks<sp/>and<sp/>neigbours<sp/>(-99<sp/>means:<sp/>no<sp/>neighbour):&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">writelog(</highlight><highlight class="stringliteral">&quot;ls&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">writelog(</highlight><highlight class="stringliteral">&quot;ls&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;<sp/><sp/>orank<sp/>rank<sp/>pcol<sp/>prow<sp/>left<sp/>right<sp/><sp/>top<sp/><sp/>bot<sp/>isleft<sp/>isright<sp/>istop<sp/>isbot&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>rank<sp/>=<sp/>0,xmpi_osize-1</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rank<sp/>.ne.<sp/>xmpi_omaster)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">xmpi_send(rank,xmpi_imaster,info)</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacexmpi__module_1a49447cc5b155a1ab5c81885e6dc7943d" kindref="member">xmaster</ref>)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">write</highlight><highlight class="normal">(line,</highlight><highlight class="stringliteral">&apos;(i5,i5,i5,i5,i5,i6,i5,i5,i7,i8,i6,i6)&apos;</highlight><highlight class="normal">)<sp/>info</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">writelog(</highlight><highlight class="stringliteral">&quot;ls&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,trim(line))</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/>enddo</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">writelog(</highlight><highlight class="stringliteral">&quot;ls&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="144"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">writelog_mpi(par%mpiboundary,<ref refid="namespacelibxbeach__module_1a21c9679e56426898fa41bd7b4c734fd8" kindref="member">error</ref>)</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="146"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>initialize<sp/>timestep</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacetimestep__module_1a29f7c1fa16da67e3129d9a2cb7e25e35" kindref="member">timestep_init</ref>(par,<sp/><ref refid="namespacelibxbeach__module_1adcb61ae66ea56ea65e46208b3b1fbcb6" kindref="member">tpar</ref>)</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacexmpi__module_1a49447cc5b155a1ab5c81885e6dc7943d" kindref="member">xmaster</ref>)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">writelog(</highlight><highlight class="stringliteral">&apos;ls&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Initializing<sp/>.....&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceinitialize__module_1a81027fb6c4fb820754f6e905d10c7215" kindref="member">setbathy_init</ref><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>initialize<sp/>physics</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacereadtide__module_1ab40861404c4e0a1501da7418d6cb15cf" kindref="member">readtide</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacereadwind__module_1aac3e91d3ac4a01c446b10eb58338aae7" kindref="member">readwind</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceinitialize__module_1a6a601184074b6cef864ab0181112531a" kindref="member">flow_init</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceinitialize__module_1a8388a160418ffb465f02dd7608f28043" kindref="member">discharge_init</ref><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceinitialize__module_1a0c61fb092c2e4a16c9357c89fecf9e92" kindref="member">drifter_init</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceinitialize__module_1ad5a9a7eb0d0ac25da0e292ac875ae79b" kindref="member">wave_init</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacegroundwaterflow_1aa86b03f34b72f5ea17b34443c9e31995" kindref="member">gw_init</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>TODO,<sp/>fix<sp/>ordening<sp/>of<sp/>arguments....</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacebeachwizard__module_1a299ec66547cf753c26b4f95750f721fd" kindref="member">bwinit</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>works<sp/>only<sp/>on<sp/>master<sp/>process</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceinitialize__module_1adc049c64ea2af2da05d543cb15fe1128" kindref="member">sed_init</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceship__module_1a1b4f4c0a57f442c953318aef59ad8779" kindref="member">ship_init</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par,<ref refid="namespacelibxbeach__module_1adab3596abc2d0de566bd34d8c8c5f408" kindref="member">sh</ref>)<sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>always<sp/>need<sp/>to<sp/>call<sp/>initialise<sp/>in<sp/>order</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>to<sp/>reserve<sp/>memory<sp/>on<sp/>MPI<sp/>subprocesses.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>Note:<sp/>if<sp/>par%ships==0<sp/>then<sp/>don&apos;t<sp/>allocate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>and<sp/>read<sp/>stuff<sp/>for<sp/>sh<sp/>structures</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacevegetation__module_1a532c14421e4edcad03d471a7db7f89a1" kindref="member">veggie_init</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par,<ref refid="namespacelibxbeach__module_1ab012a5ef9ac655093fe4687d67cc3857" kindref="member">veg</ref>)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>USEMPI</highlight></codeline>
<codeline lineno="175"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">distribute_par(par)</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref><sp/>=&gt;<sp/>slocal</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>here<sp/>an<sp/>hack<sp/>to<sp/>ensure<sp/>that<sp/>sglobal<sp/>is<sp/>populated,<sp/>also<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>the<sp/>not-(o)master<sp/>processes,<sp/>just<sp/>to<sp/>get<sp/>valid<sp/>addresses.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(.not.<sp/><ref refid="namespacexmpi__module_1a49447cc5b155a1ab5c81885e6dc7943d" kindref="member">xmaster</ref><sp/>.and.<sp/>.not.<sp/><ref refid="namespacexmpi__module_1aa6bc7fa3bf59526545d88454ac9966c8" kindref="member">xomaster</ref>)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!nxbak<sp/>=<sp/>sglobal%nx</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!nybak<sp/>=<sp/>sglobal%ny</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!sglobal%nx=0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!sglobal%ny=0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacespaceparams_1ae27b88ede742d56c3a67dfc9c2d9545d" kindref="member">space_alloc_arrays_dummies</ref>(<ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref>,par)</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!sglobal%nx<sp/>=<sp/>nxbak</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!sglobal%ny<sp/>=<sp/>nybak</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">space_distribute_space<sp/>(<ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref>,<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par<sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="192"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacespaceparams_1afb3f1ea3c9a0737af4d14e673acde762" kindref="member">ranges_init</ref>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>)</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>nonh_init<sp/>does<sp/>not<sp/>always<sp/>need<sp/>to<sp/>be<sp/>called</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%nonh==1)<sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacenonh__module_1ae163315693250c88b6adcac1df9d11b4" kindref="member">nonh_init</ref>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>initialize<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacemeans__module_1a32b001956163af2bb2c67c585cac76cc" kindref="member">means_init</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref>,<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par<sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceoutput__module_1ada1f11b0c85e41e240c011cb3b6b3cff" kindref="member">output_init</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref>,<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par,<ref refid="namespacelibxbeach__module_1adcb61ae66ea56ea65e46208b3b1fbcb6" kindref="member">tpar</ref>)</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>store<sp/>first<sp/>timestep</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>from<sp/>this<sp/>point<sp/>on,<sp/>xomaster<sp/>will<sp/>hang<sp/>in<sp/>subroutine<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>until<sp/>a<sp/>broadcast<sp/>.true.<sp/>is<sp/>received</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceoutput__module_1abb959bcca3e2c10caf9c7f621b76f019" kindref="member">output</ref>(<ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref>,<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par,<ref refid="namespacelibxbeach__module_1adcb61ae66ea56ea65e46208b3b1fbcb6" kindref="member">tpar</ref>)</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a6be3278b63e39d796c22bef0227fd2c4" kindref="member">init</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/><sp/>end<sp/>function<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module_1a6be3278b63e39d796c22bef0227fd2c4" kindref="member">init</ref></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/><sp/>integer(c_int)<sp/></highlight><highlight class="keyword">function<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module_1a3299116febfefd7042872b6c78482595" kindref="member">outputext</ref>()</highlight></codeline>
<codeline lineno="212" refid="namespacelibxbeach__module_1a3299116febfefd7042872b6c78482595" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>store<sp/>first<sp/>timestep</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceoutput__module_1abb959bcca3e2c10caf9c7f621b76f019" kindref="member">output</ref>(<ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref>,<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par,<ref refid="namespacelibxbeach__module_1adcb61ae66ea56ea65e46208b3b1fbcb6" kindref="member">tpar</ref>,.false.)</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="namespacelibxbeach__module_1a21c9679e56426898fa41bd7b4c734fd8" kindref="member">error</ref>==0)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a3299116febfefd7042872b6c78482595" kindref="member">outputext</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elseif</highlight><highlight class="normal">(<ref refid="namespacelibxbeach__module_1a21c9679e56426898fa41bd7b4c734fd8" kindref="member">error</ref>==1)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceoutput__module_1aff2c6c1c19277b8499e36e53bd7aeabb" kindref="member">output_error</ref>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,<ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref>,par,<ref refid="namespacelibxbeach__module_1adcb61ae66ea56ea65e46208b3b1fbcb6" kindref="member">tpar</ref>)</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a3299116febfefd7042872b6c78482595" kindref="member">outputext</ref><sp/>=<sp/>1</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/><sp/>end<sp/>function<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module_1a3299116febfefd7042872b6c78482595" kindref="member">outputext</ref></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">!-----------------------------------------------------------------------------!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>Start<sp/>simulation<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">!-----------------------------------------------------------------------------!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">!_____________________________________________________________________________</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/>integer(c_int)<sp/></highlight><highlight class="keyword">function<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module_1ab7b2cd54072abb0329a424307f8b9bfb" kindref="member">executestep</ref>(dt)</highlight></codeline>
<codeline lineno="229" refid="namespacelibxbeach__module_1ab7b2cd54072abb0329a424307f8b9bfb" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">real*8</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">optional</highlight><highlight class="normal"><sp/>::<sp/>dt</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>USEMPI</highlight></codeline>
<codeline lineno="233"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespaceloopcounters__module_1a6078b7812c3d9fcd633b7a3232b1f319" kindref="member">execute_counter</ref><sp/>.eq.<sp/>1)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>exclude<sp/>first<sp/>pass<sp/>from<sp/>time<sp/>measurement</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">xmpi_barrier</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t01<sp/>=<sp/>mpi_wtime()</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="239"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceloopcounters__module_1a6078b7812c3d9fcd633b7a3232b1f319" kindref="member">execute_counter</ref><sp/>=<sp/><ref refid="namespaceloopcounters__module_1a6078b7812c3d9fcd633b7a3232b1f319" kindref="member">execute_counter</ref><sp/>+<sp/>1</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacetimestep__module_1af0cec962a7c2da8d4246c89714b79c20" kindref="member">outputtimes_update</ref>(par,<sp/><ref refid="namespacelibxbeach__module_1adcb61ae66ea56ea65e46208b3b1fbcb6" kindref="member">tpar</ref>)</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1ab7b2cd54072abb0329a424307f8b9bfb" kindref="member">executestep</ref><sp/>=<sp/>-1</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>determine<sp/>timestep</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="namespacexmpi__module_1a24b4553e8e3ce80ce55611ad7978ab53" kindref="member">xcompute</ref>)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>determine<sp/>this<sp/>time<sp/>step&apos;s<sp/>wet<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacewetcells__module_1a3d815e5e6cb4df60d0c719963958c5cd" kindref="member">compute_wetcells</ref>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>determine<sp/>time<sp/>step</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacetimestep__module_1af1dfb202e7e16b49c0e14d0ec52f6d9c" kindref="member">timestep</ref>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par,<ref refid="namespacelibxbeach__module_1adcb61ae66ea56ea65e46208b3b1fbcb6" kindref="member">tpar</ref>,<ref refid="namespacelibxbeach__module_1a413e267a67115d63dbd0d456487a5ecd" kindref="member">it</ref>,dt=dt,ierr=<ref refid="namespacelibxbeach__module_1a21c9679e56426898fa41bd7b4c734fd8" kindref="member">error</ref>)</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacelibxbeach__module_1a21c9679e56426898fa41bd7b4c734fd8" kindref="member">error</ref>==0)<sp/></highlight><highlight class="keywordflow">then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>boundary<sp/>conditions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceboundaryconditions_1a0b2ae2a9197e69388bed41e99b46429d" kindref="member">wave_bc</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1aaf3c13bc9cba5a00125ccce955cfbbcd" kindref="member">sglobal</ref>,<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%gwflow==1)<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacegroundwaterflow_1a49f584a2ef6fc0109b338ba98af8a169" kindref="member">gw_bc</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%flow+par%nonh&gt;0)<sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceboundaryconditions_1a704340dfa991d6982855bdb697426f0a" kindref="member">flow_bc</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>compute<sp/>timestep</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%ships==1)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceship__module_1af4f012e4306eee30ffc744dff3e1f9b0" kindref="member">shipwave</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par,<ref refid="namespacelibxbeach__module_1adab3596abc2d0de566bd34d8c8c5f408" kindref="member">sh</ref>)</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%swave==1)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacewave__timestep__module_1a7d1a02350f40daeeeed4d514c4cc6675" kindref="member">wave</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%vegetation==1)<sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacevegetation__module_1adcf56ff78754258fedcd656c7d485221" kindref="member">vegatt</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par,<ref refid="namespacelibxbeach__module_1ab012a5ef9ac655093fe4687d67cc3857" kindref="member">veg</ref>)</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%gwflow==1)<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacegroundwaterflow_1a5864f855c1d186f1038fb9a01a8537a8" kindref="member">gwflow</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%flow+par%nonh&gt;0)<sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespaceflow__timestep__module_1a2f280e063ceff2b60e3688f288c697b9" kindref="member">flow</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%ndrifter&gt;0)<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacedrifter__module_1ad8bcdad614ef33d52975d6391354d731" kindref="member">drifter</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%sedtrans==1)<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacemorphevolution_1ae485091612e5fa3439ced337397e00e2" kindref="member">transus</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>Beach<sp/>wizard</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%bchwiz&gt;0)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacebeachwizard__module_1a74ed2ae25c0bcbc6f57952bf7a21677e" kindref="member">assim</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>Bed<sp/>level<sp/>update</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((par%morphology==1).and.(.not.<sp/>par%bchwiz==1).and.(.not.<sp/>par%setbathy==1))<sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacemorphevolution_1aa68c5adae21ae36ed7b6a4592c092ae7" kindref="member">bed_update</ref>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,par)</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%bchwiz&gt;0)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacebeachwizard__module_1a9fdcef966a1a7abcdb811913855c9c2d" kindref="member">assim_update</ref><sp/><sp/><sp/>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,<sp/>par)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(par%setbathy==1)<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacemorphevolution_1ab6ac110d117cb31dabb7e458f91c3a4b" kindref="member">setbathy_update</ref>(<ref refid="namespacelibxbeach__module_1a8b26bebb952c0c867bd51be0b60358b8" kindref="member">s</ref>,<sp/>par)</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a3e4b3169e15a10bad1d92b777680599f" kindref="member">n</ref><sp/>=<sp/><ref refid="namespacelibxbeach__module_1a3e4b3169e15a10bad1d92b777680599f" kindref="member">n</ref><sp/>+<sp/>1</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1ab7b2cd54072abb0329a424307f8b9bfb" kindref="member">executestep</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/><sp/>end<sp/>function<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module_1ab7b2cd54072abb0329a424307f8b9bfb" kindref="member">executestep</ref></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">!_____________________________________________________________________________</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/><sp/>integer(c_int)<sp/></highlight><highlight class="keyword">function<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module_1a2177479f30ed985fe1b67de2c09c603f" kindref="member">final</ref>()</highlight></codeline>
<codeline lineno="284" refid="namespacelibxbeach__module_1a2177479f30ed985fe1b67de2c09c603f" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!-----------------------------------------------------------------------------!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!<sp/>Finalize<sp/>simulation<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">!-----------------------------------------------------------------------------!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>USEMPI</highlight></codeline>
<codeline lineno="291"><highlight class="preprocessor"></highlight><highlight class="keyword"><sp/><sp/><sp/><sp/><sp/><sp/>end</highlight><highlight class="normal">_program<sp/>=<sp/>.true.</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">xmpi_send_sleep(xmpi_imaster,xmpi_omaster)<sp/></highlight><highlight class="comment">!<sp/>wake<sp/>up<sp/>omaster</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">xmpi_bcast(end_program,toall)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">xmpi_barrier(toall)</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacelogging__module_1ac36bd5a6ccb77691f39b6edc079f6937" kindref="member">writelog_finalize</ref>(<ref refid="namespacelibxbeach__module_1a8a5e2ed4e36f2566017fab7321ce4f08" kindref="member">tbegin</ref>,<ref refid="namespacelibxbeach__module_1a3e4b3169e15a10bad1d92b777680599f" kindref="member">n</ref>,par%t,par%nx,par%ny,t0,t01)</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">xmpi_finalize</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="298"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal"><ref refid="namespacelogging__module_1ac36bd5a6ccb77691f39b6edc079f6937" kindref="member">writelog_finalize</ref>(<ref refid="namespacelibxbeach__module_1a8a5e2ed4e36f2566017fab7321ce4f08" kindref="member">tbegin</ref>,<ref refid="namespacelibxbeach__module_1a3e4b3169e15a10bad1d92b777680599f" kindref="member">n</ref>,par%t,par%nx,par%ny)</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="300"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelibxbeach__module_1a2177479f30ed985fe1b67de2c09c603f" kindref="member">final</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/><sp/>end<sp/>function<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module_1a2177479f30ed985fe1b67de2c09c603f" kindref="member">final</ref></highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/><sp/>subroutine<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module_1a89eab6da656804a2f9304a8ea9b97fb0" kindref="member">getversion</ref>(version)</highlight></codeline>
<codeline lineno="304" refid="namespacelibxbeach__module_1a89eab6da656804a2f9304a8ea9b97fb0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">character(kind=c_char,len=*)</highlight><highlight class="normal">,</highlight><highlight class="keywordtype">intent(inout)</highlight><highlight class="normal"><sp/>::<sp/>version</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>include<sp/></highlight><highlight class="stringliteral">&apos;version.def&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>include<sp/></highlight><highlight class="stringliteral">&apos;version.dat&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>version<sp/>=<sp/>trim(build_revision)</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight><highlight class="keyword"><sp/><sp/><sp/>end<sp/>subroutine</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight><highlight class="keyword">end<sp/>module<sp/></highlight><highlight class="normal"><ref refid="namespacelibxbeach__module" kindref="compound">libxbeach_module</ref></highlight></codeline>
    </programlisting>
    <location file="/Users/hoonhout/Checkouts/XBeach/trunk/src/xbeachlibrary/libxbeach.F90"/>
  </compounddef>
</doxygen>
